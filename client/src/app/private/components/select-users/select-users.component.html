<mat-form-field>
    <input matInput type="text" placeholder="Search for User by Username" [matAutocomplete]="auto"
        [formControl]="searchUsername">
    <mat-autocomplete #auto="matAutocomplete" [displayWith]="autocompleteDisplay"
        (optionSelected)="setSelectedUser($event.option.value)">
        <ng-container>
            <mat-option *ngFor="let user of filteredUsers" [value]="user">
                <span>{{user.username}}</span>
                <small>#{{user.id}}</small>
            </mat-option>
        </ng-container>
    </mat-autocomplete>
</mat-form-field>
<button mat-button type="button" (click)="emitAddUser()" [disabled]="!selectedUser">Add User</button>

<mat-chip-list *ngIf="users.length > 0; else noUsers">
    <mat-chip *ngFor="let user of users" (removed)="emitRemoveUser(user)">
        {{user.username}}
        <mat-icon matChipRemove>cancel</mat-icon>
    </mat-chip>
</mat-chip-list>

<ng-template #noUsers>
    <mat-error>No other users added</mat-error>
</ng-template>